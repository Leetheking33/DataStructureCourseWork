% --------------------------------------------------------------
% This is all preamble stuff that you don't have to worry about.
% Head down to where it says "Start here"
% --------------------------------------------------------------

\documentclass[a4paper]{article}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[all]{xy}

%% Sets page size and margins
\usepackage[a4paper,top=3cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}

%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}

\begin{document}

Insert the following into a 5-way B-tree:\\
3, 7, 9, 23, 45, 1, 5, 14, 25, 24, 13, 11, 8, 19, 4, 31, 35, 56

Insert 3, 7, 9, 23
$$\xymatrix @C=0pt {
 &  &  &  &  & 3 & 7 & 9 & 23 &  \\
}$$

Insert 45:
$$\xymatrix @C=0pt {
 &  &  &  &  & 3 & 7 & 9 & 23 & 45 \\
}$$
But that violate condition 5, so we promote 9.

$$\xymatrix @C=0pt {
 &  &  &  &  &  &    &\ar[dll] 9 \ar[dr] &  &  \\
 &  &  &  &  & 3 & 7 &                  & 23 & 45 \\
}$$

Insert 1, 5, 14, 25
$$\xymatrix @C=0pt {
 &  &  &  &  &  &    &\ar[dllll] 9 \ar[dr] &  &  \\
 &  &  & 1& 3& 5 & 7 &                     & 14 & 23 & 25 & 45 \\
}$$

Insert 24:
$$\xymatrix @C=0pt {
 &  &  &  &  &  &    &\ar[dllll] 9 \ar[dr] &  &  \\
 &  &  & 1& 3& 5 & 7 &                     & 14 & 23 & 24 & 25 & 45 \\
}$$

But that violate condition 5, so we promote 24:
$$\xymatrix @C=0pt {
 &  &  &  &  &  &    &\ar[dllll] 9 \ar[dr] &           24 \ar[drrr] &  \\
 &  &  & 1& 3& 5 & 7 &                     & 14 & 23 &  & 25 & 45 \\
}$$


Insert 13, 11: 

$$\xymatrix @C=0pt {
 &  &  &  &  &  &    &\ar[dlllll] 9 \ar[dr] &           24 \ar[drrrrr] &  \\
 &  & 1& 3& 5 & 7 &   &                   & 11 & 13 & 14 & 23 &  & 25 & 45 \\
}$$

Insert 8:
$$\xymatrix @C=0pt {
 &  &  &  &  &  &    &\ar[dlllll] 9 \ar[dr] &           24 \ar[drrrrr] &  \\
 &  & 1& 3& 5 & 7 & 8  &                   & 11 & 13 & 14 & 23 &  & 25 & 45 \\
}$$

but that violates condition 5, so we promote 5:

Insert 8:
$$\xymatrix @C=0pt {
 &  &  &  &  &  & \ar[dllll] 5  &\ar[dll] 9 \ar[dr] &           24 \ar[drrrrr] &  \\
 &  & 1& 3&  & 7 & 8  &                   & 11 & 13 & 14 & 23 &  & 25 & 45 \\
}$$

Insert 19:
$$\xymatrix @C=0pt {
 &  &  &  &  &  & \ar[dllll] 5  &\ar[dll] 9 \ar[dr] &           24 \ar[drrrrrr] &  \\
 &  & 1& 3&  & 7 & 8  &                   & 11 & 13 & 14 & 19 &23 &  & 25 & 45 \\
}$$

This violate condition 5, so we promote 14:
$$\xymatrix @C=0pt {
 &  &  &  &  &  & \ar[dllll] 5  &\ar[dll] 9 \ar[dr] & 14\ar[drrr] &          24 \ar[drrrrr] &  \\
 &  & 1& 3&  & 7 & 8  &                   & 11 & 13 &  & 19 &23 &  & 25 & 45 \\
}$$
%3, 7, 9, 23, 45, 1, 5, 14, 25, 24, 13, 11, 8, 19, 4, 31, 35, 56

Insert 4, 31, 35
$$\xymatrix @C=0pt {
 &  &  &  &  &  & \ar[dlllll] 5  &\ar[dll] 9 \ar[dr] & 14\ar[drrr] &          24 \ar[drrrrr] &  \\
 & 1 & 3& 4&  & 7 & 8  &                   & 11 & 13 &  & 19 &23 &  & 25 & 31 & 35 & 45 \\
}$$

Insert 56
$$\xymatrix @C=0pt {
 &  &  &  &  &  & \ar[dlllll] 5  &\ar[dll] 9 \ar[dr] & 14\ar[drrr] &          24 \ar[drrrrr] &  \\
 & 1 & 3& 4&  & 7 & 8  &                   & 11 & 13 &  & 19 &23 &  & 25 & 31 & 35 & 45 & 56\\
}$$

but that violate condition 5, so we promote 35:

$$\xymatrix @C=0pt {
 &  &  &  &  &  & \ar[dlllll] 5  &\ar[dll] 9 \ar[dr] & 14\ar[drrr] &          24 \ar[drrrrr] &  35 \ar[drrrrrrr] \\
 & 1 & 3& 4&  & 7 & 8  &                   & 11 & 13 &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

Violates condition 5, so we promote 14:

$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]14\ar[drr] \\
 &  &  &  &  &  & \ar[dlllll] 5  &\ar[dll] 9 \ar[dr] & &\ar[drr]           24 \ar[drrrrr] &  35 \ar[drrrrrrr] \\
 & 1 & 3& 4&  & 7 & 8  &                   & 11 & 13 &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

Insert 2, 6, 12:

$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]14\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 5  &\ar[dll] 9 \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & 3& 4&  & 6 & 7  & 8 &                   & 11 & 12 & 13 &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

% Delete 4, 5, 7, 3, 14

Delete 4:

$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]14\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 5  &\ar[dll] 9 \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & 3& &  & 6 & 7  & 8 &                   & 11 & 12 & 13 &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

Delete 5, promoting the 6:
$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]14\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  &\ar[dl] 9 \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & 3& &  &  & 7  & 8 &                   & 11 & 12 & 13 &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$


Delete 7:
$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]14\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  &\ar[dl] 9 \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & 3& &  &  &   & 8 &                   & 11 & 12 & 13 &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

Too few siblings, so we rotate 9 and 11.

$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]14\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  &\ar[dl] 11 \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & 3& &  &  &  8 & 9 &                   & 12 & 13 & &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$


Delete 3:
$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]14\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  &\ar[dl] 11 \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & & &  &  &  8 & 9 &                   & 12 & 13 & &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

Delete 14:

$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl]\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  &\ar[dl] 11 \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & & &  &  &  8 & 9 &                   & 12 & 13 & &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

promote 11:
$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl] 11\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  &\ar[dl]  \ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & & &  &  &  8 & 9 &                   & 12 & 13 & &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

promote 12:

$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl] 11\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  &\ar[dl]  12\ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & & &  &  &  8 & 9 &                   &  & 13 & &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

combine the 8, 9, 12, 13:

$$\xymatrix @C=0pt {
 &  &  &  &  &  &                &\ar[dl] 11\ar[drr] \\
 &  &  &  &  &  & \ar[dllllll] 6  \ar[dl] &  & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & & &  &  &  8 & 9 & 12                   & 13 & & &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$

combine 6, 11, 24, 35:

$$\xymatrix @C=0pt {
 &  &  &  &  &  & \ar[dllllll] 6  \ar[d] & 11\ar[drr] & &\ar[drrrr]           24 \ar[drrrrrrr] &  35 \ar[drrrrrrrrr] \\
 1 & 2 & & &  &  &  8 & 9 & & 12                   & 13 & &  & 19 &23 &  & 25 & 31 &  & 45 & 56\\
}$$



\end{document}
